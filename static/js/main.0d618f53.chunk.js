(this["webpackJsonpgoit-react-hw-03-image-finder"]=this["webpackJsonpgoit-react-hw-03-image-finder"]||[]).push([[0],{11:function(e,t,a){e.exports={app:"App_app__1kX79",loader:"App_loader__2fptQ"}},12:function(e,t,a){e.exports={Overlay:"Modal_Overlay__39oN5",Modal:"Modal_Modal__1JHsN"}},13:function(e,t,a){e.exports={imageGalleryItem:"ImageGalleryItem_imageGalleryItem__3EmA8",imageGalleryItemImage:"ImageGalleryItem_imageGalleryItemImage__2sJS2"}},14:function(e,t,a){e.exports={buttonContainer:"Button_buttonContainer__1cWp0",button:"Button_button__1o_YA"}},25:function(e,t,a){e.exports={imageGallery:"ImageGallery_imageGallery__1XccP"}},4:function(e,t,a){e.exports={searchbar:"Searchbar_searchbar__24cZx",searchForm:"Searchbar_searchForm__2yt-T",searchFormButton:"Searchbar_searchFormButton__30dl-",SearchFormButtonLabel:"Searchbar_SearchFormButtonLabel__2hLkk",searchFormInput:"Searchbar_searchFormInput__3cLKD"}},71:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),o=a(5),c=a(24),s=a(15),l=a(6),i=a(7),u=a(9),d=a(8),h=a(11),m=a.n(h),g=a(12),b=a.n(g),p=a(0),j=document.querySelector("#modal-root"),f=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(l.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).handleKeyDown=function(t){"Escape"===t.code&&e.props.onClose()},e.handleOverlayClick=function(t){t.target===t.currentTarget&&e.props.onClose()},e}return Object(i.a)(a,[{key:"componentDidMount",value:function(){window.addEventListener("keydown",this.handleKeyDown)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("keydown",this.handleKeyDown)}},{key:"render",value:function(){return console.log(this.props),Object(o.createPortal)(Object(p.jsx)("div",{className:b.a.Overlay,onClick:this.handleOverlayClick,children:Object(p.jsxs)("div",{className:b.a.Modal,children:[Object(p.jsx)("img",{src:this.props.bigPicUrl,alt:""}),Object(p.jsx)("h2",{children:this.props.bigPicUrl})]})}),j)}}]),a}(r.a.Component),y=a(4),_=a.n(y),O=function(e){var t=e.state.queryWord,a=e.handleChange,n=e.onSearch;return Object(p.jsx)("header",{className:_.a.searchbar,children:Object(p.jsxs)("form",{className:_.a.searchForm,children:[Object(p.jsx)("button",{onClick:n,type:"submit",className:_.a.searchFormButton,children:Object(p.jsx)("span",{className:_.a.SearchFormButtonLabel,children:"Search"})}),Object(p.jsx)("input",{onChange:a,className:_.a.searchFormInput,type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search images and photos",value:t})]})})},v=a(25),x=a.n(v),M=a(13),N=a.n(M),S=function(e){var t=e.state,a=e.toggleModal;return Object(p.jsx)(p.Fragment,{children:t.data.map((function(e){var t=e.id,n=e.webformatURL,r=e.largeImageURL;return Object(p.jsx)("li",{className:N.a.imageGalleryItem,children:Object(p.jsx)("img",{onClick:a,src:n,alt:r,className:N.a.imageGalleryItemImage})},t)}))})},k=function(e){return Object(p.jsx)("ul",{onClick:e.openModal,className:x.a.imageGallery,children:Object(p.jsx)(S,{state:e.state,toggleModal:e.onClick})})},w=a(14),C=a.n(w),I=function(e){return Object(p.jsx)("div",{className:C.a.buttonContainer,children:Object(p.jsx)("button",{onClick:e.loadMoreButton,className:C.a.button,type:"button",children:"Load More"})})},L=a(26),P=a.n(L),F=a(27),B=a.n(F),G=function(e){var t=e.queryWord,a=void 0===t?"":t,n=e.pageNumber,r=void 0===n?1:n,o=e.itemsPerPage,c=void 0===o?12:o;return B.a.get("".concat("https://pixabay.com/api/","?q=").concat(a,"&page=").concat(r,"&key=").concat("21129448-e17c8b1f4b436f5a4360c1592","&image_type=photo&orientation=horizontal&per_page=").concat(c)).then((function(e){return e.data}))},U=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(l.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={isLoading:!1,showModal:!1,queryWord:"",itemsPerPage:12,pageNumber:1,bigPicUrl:"",smallPickList:[],data:[]},e.getData=function(){var t=e.state,a={queryWord:t.queryWord,pageNumber:t.pageNumber,itemsPerPage:t.itemsPerPage};e.setState({isLoading:!0}),G(a).then((function(t){e.setState((function(e){return{data:[].concat(Object(s.a)(e.data),Object(s.a)(t.hits)),smallPickList:t.hits.map((function(e){return e.webformatURL})),pageNumber:e.pageNumber+1}}))})).catch((function(e){return console.log(e)})).finally((function(){return e.setState({isLoading:!1})}))},e.toggleModal=function(){e.setState((function(e){return{showModal:!e.showModal}}))},e.openModal=function(t){t.preventDefault();var a={};"IMG"===t.target.nodeName&&(a=e.state.data.find((function(e){return e.webformatURL===t.target.src}))),e.setState((function(){return{bigPickUrl:a.largeImageURL}})),e.toggleModal(),console.log(a.largeImageURL)},e.handleChange=function(t){var a=t.currentTarget.value;e.setState({queryWord:a,pageNumber:1,data:[]})},e.onSearch=function(t){t.preventDefault(),e.setState(Object(c.a)({},e.state.queryWord,t.currentTarget.value)),e.getData()},e.loadMoreButton=function(t){t.preventDefault(),e.getData()},e}return Object(i.a)(a,[{key:"render",value:function(){var e=this.state,t=e.showModal,a=e.isLoading;return Object(p.jsxs)("div",{className:m.a.app,children:[Object(p.jsx)(O,{handleChange:this.handleChange,onSearch:this.onSearch,state:this.state}),a&&Object(p.jsx)("div",{className:m.a.loader,children:Object(p.jsx)(P.a,{type:"Puff",color:"#3f51b5",height:100,width:100,timeout:1e3})}),Object(p.jsx)(k,{state:this.state,toggleModal:this.toggleModal,openModal:this.openModal}),t&&Object(p.jsx)(f,{onClose:this.toggleModal,data:this.state.data,bigPicUrl:this.state.bigPicUrl}),this.state.data.length>0&&!this.state.isLoading&&Object(p.jsx)(I,{loadMoreButton:this.loadMoreButton})]})}}]),a}(r.a.Component);o.render(Object(p.jsx)(r.a.StrictMode,{children:Object(p.jsx)(U,{})}),document.getElementById("root"))}},[[71,1,2]]]);
//# sourceMappingURL=main.0d618f53.chunk.js.map