(this["webpackJsonpgoit-react-hw-03-image-finder"]=this["webpackJsonpgoit-react-hw-03-image-finder"]||[]).push([[0],{13:function(e,t,a){e.exports={app:"App_app__1kX79",loader:"App_loader__2fptQ"}},14:function(e,t,a){e.exports={Overlay:"Modal_Overlay__39oN5",Modal:"Modal_Modal__1JHsN"}},15:function(e,t,a){e.exports={imageGalleryItem:"ImageGalleryItem_imageGalleryItem__3EmA8",imageGalleryItemImage:"ImageGalleryItem_imageGalleryItemImage__2sJS2"}},16:function(e,t,a){e.exports={buttonContainer:"Button_buttonContainer__1cWp0",button:"Button_button__1o_YA"}},27:function(e,t,a){e.exports={imageGallery:"ImageGallery_imageGallery__1XccP"}},4:function(e,t,a){e.exports={searchbar:"Searchbar_searchbar__24cZx",searchForm:"Searchbar_searchForm__2yt-T",searchFormButton:"Searchbar_searchFormButton__30dl-",SearchFormButtonLabel:"Searchbar_SearchFormButtonLabel__2hLkk",searchFormInput:"Searchbar_searchFormInput__3cLKD"}},74:function(e,t,a){"use strict";a.r(t);var r=a(1),n=a.n(r),o=a(6),c=a(26),s=a(5),i=a.n(s),l=a(17),u=a(12),d=a(7),h=a(8),m=a(10),p=a(9),b=a(13),g=a.n(b),f=a(14),j=a.n(f),v=a(0),y=document.querySelector("#modal-root"),_=function(e){Object(m.a)(a,e);var t=Object(p.a)(a);function a(){var e;Object(d.a)(this,a);for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(e=t.call.apply(t,[this].concat(n))).handleKeyDown=function(t){"Escape"===t.code&&e.props.onClose()},e.handleOverlayClick=function(t){t.target===t.currentTarget&&e.props.onClose()},e}return Object(h.a)(a,[{key:"componentDidMount",value:function(){window.addEventListener("keydown",this.handleKeyDown)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("keydown",this.handleKeyDown)}},{key:"render",value:function(){return Object(o.createPortal)(Object(v.jsx)("div",{className:j.a.Overlay,onClick:this.handleOverlayClick,children:Object(v.jsx)("div",{className:j.a.Modal,children:Object(v.jsx)("img",{src:this.props.bigPickUrl,alt:this.props.bigPickUrl.id})})}),y)}}]),a}(n.a.Component),O=a(4),x=a.n(O),w=function(e){var t=e.state.queryWord,a=e.handleChange,r=e.onSearch;return Object(v.jsx)("header",{className:x.a.searchbar,children:Object(v.jsxs)("form",{className:x.a.searchForm,children:[Object(v.jsx)("button",{onClick:r,type:"submit",className:x.a.searchFormButton,children:Object(v.jsx)("span",{className:x.a.SearchFormButtonLabel,children:"Search"})}),Object(v.jsx)("input",{onChange:a,className:x.a.searchFormInput,type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search images and photos",value:t})]})})},k=a(27),M=a.n(k),N=a(15),S=a.n(N),C=function(e){var t=e.data;return Object(v.jsx)(v.Fragment,{children:t.map((function(e){var t=e.id,a=e.webformatURL,r=e.tags;return Object(v.jsx)("li",{className:S.a.imageGalleryItem,children:Object(v.jsx)("img",{src:a,alt:r,className:S.a.imageGalleryItemImage})},t)}))})},I=function(e){return Object(v.jsx)("ul",{onClick:e.openModal,className:M.a.imageGallery,children:Object(v.jsx)(C,{data:e.state.data})})},L=a(16),P=a.n(L),F=function(e){return Object(v.jsx)("div",{className:P.a.buttonContainer,children:Object(v.jsx)("button",{onClick:e.loadMoreButton,className:P.a.button,type:"button",children:"Load More"})})},B=a(28),G=a.n(B),D=a(29),U=a.n(D),q=function(e){var t=e.queryWord,a=void 0===t?"":t,r=e.pageNumber,n=void 0===r?1:r,o=e.itemsPerPage,c=void 0===o?12:o;return U.a.get("".concat("https://pixabay.com/api/","?q=").concat(a,"&page=").concat(n,"&key=").concat("21129448-e17c8b1f4b436f5a4360c1592","&image_type=photo&orientation=horizontal&per_page=").concat(c)).then((function(e){return e.data}))},W=function(e){Object(m.a)(a,e);var t=Object(p.a)(a);function a(){var e;Object(d.a)(this,a);for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(e=t.call.apply(t,[this].concat(n))).state={isLoading:!1,showModal:!1,queryWord:"",itemsPerPage:12,pageNumber:1,bigPicUrl:"",data:[]},e.getData=Object(u.a)(i.a.mark((function t(){var a,r,n,o,c,s;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.state,r=a.queryWord,n=a.pageNumber,o=a.itemsPerPage,c={queryWord:r,pageNumber:n,itemsPerPage:o},t.prev=2,e.setState({isLoading:!0}),t.next=6,q(c);case 6:s=t.sent,e.setState((function(e){return{data:[].concat(Object(l.a)(e.data),Object(l.a)(s.hits)),smallPickList:s.hits.map((function(e){return e.webformatURL})),pageNumber:e.pageNumber+1}})),t.next=13;break;case 10:throw t.prev=10,t.t0=t.catch(2),t.t0;case 13:return t.prev=13,e.setState({isLoading:!1}),t.finish(13);case 16:case"end":return t.stop()}}),t,null,[[2,10,13,16]])}))),e.toggleModal=function(){e.setState((function(e){return{showModal:!e.showModal}}))},e.openModal=function(t){t.preventDefault();var a={};"IMG"===t.target.nodeName&&(a=e.state.data.find((function(e){return e.webformatURL===t.target.src}))),e.setState((function(){return{bigPickUrl:a.largeImageURL}})),e.toggleModal()},e.handleChange=function(t){var a=t.currentTarget.value;e.setState({queryWord:a,pageNumber:1,data:[]})},e.onSearch=function(t){t.preventDefault(),e.setState(Object(c.a)({},e.state.queryWord,t.currentTarget.value)),e.getData()},e.loadMoreButton=function(){var t=Object(u.a)(i.a.mark((function t(a){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),t.next=3,e.getData();case 3:window.scrollTo({top:document.documentElement.scrollHeight,behavior:"smooth"});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e}return Object(h.a)(a,[{key:"render",value:function(){var e=this.state,t=e.showModal,a=e.isLoading;return Object(v.jsxs)("div",{className:g.a.app,children:[Object(v.jsx)(w,{handleChange:this.handleChange,onSearch:this.onSearch,state:this.state}),a&&Object(v.jsx)("div",{className:g.a.loader,children:Object(v.jsx)(G.a,{type:"Puff",color:"#3f51b5",height:100,width:100,timeout:1e3})}),Object(v.jsx)(I,{state:this.state,toggleModal:this.toggleModal,openModal:this.openModal}),t&&Object(v.jsx)(_,{onClose:this.toggleModal,data:this.state.data,bigPickUrl:this.state.bigPickUrl}),this.state.data.length>0&&!this.state.isLoading&&Object(v.jsx)(F,{loadMoreButton:this.loadMoreButton})]})}}]),a}(n.a.Component);o.render(Object(v.jsx)(n.a.StrictMode,{children:Object(v.jsx)(W,{})}),document.getElementById("root"))}},[[74,1,2]]]);
//# sourceMappingURL=main.aaa1e80a.chunk.js.map