{"version":3,"sources":["App.module.css","Modal/Modal.module.css","ImageGalleryItem/ImageGalleryItem.module.css","Button/Button.module.css","ImageGallery/ImageGallery.module.css","Searchbar/Searchbar.module.css","Modal/Modal.js","Searchbar/Searchbar.js","ImageGalleryItem/ImageGalleryItem.js","ImageGallery/ImageGallery.js","Button/Button.js","API/getPictures.js","App.js","index.js"],"names":["module","exports","modalRoot","document","querySelector","Modal","handleKeyDown","e","code","props","onClose","handleOverlayClick","target","currentTarget","window","addEventListener","this","removeEventListener","createPortal","className","s","Overlay","onClick","src","bigPickUrl","alt","id","React","Component","Searchbar","queryWord","state","handleChange","onSearch","searchbar","searchForm","type","searchFormButton","SearchFormButtonLabel","onChange","searchFormInput","autoComplete","autoFocus","placeholder","value","ImageGalleryItem","data","map","webformatURL","tags","imageGalleryItem","imageGalleryItemImage","ImageGallery","openModal","imageGallery","Button","buttonContainer","loadMoreButton","button","fetchOn","pageNumber","itemsPerPage","axios","get","then","response","App","isLoading","showModal","bigPicUrl","getData","a","options","setState","prevState","hits","smallPickList","hit","toggleModal","preventDefault","imgObj","nodeName","find","largeImageURL","scrollTo","top","documentElement","scrollHeight","behavior","app","loader","color","height","width","timeout","length","ReactDOM","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.aaa1e80a.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"app\":\"App_app__1kX79\",\"loader\":\"App_loader__2fptQ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__39oN5\",\"Modal\":\"Modal_Modal__1JHsN\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"imageGalleryItem\":\"ImageGalleryItem_imageGalleryItem__3EmA8\",\"imageGalleryItemImage\":\"ImageGalleryItem_imageGalleryItemImage__2sJS2\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"buttonContainer\":\"Button_buttonContainer__1cWp0\",\"button\":\"Button_button__1o_YA\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"imageGallery\":\"ImageGallery_imageGallery__1XccP\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"searchbar\":\"Searchbar_searchbar__24cZx\",\"searchForm\":\"Searchbar_searchForm__2yt-T\",\"searchFormButton\":\"Searchbar_searchFormButton__30dl-\",\"SearchFormButtonLabel\":\"Searchbar_SearchFormButtonLabel__2hLkk\",\"searchFormInput\":\"Searchbar_searchFormInput__3cLKD\"};","import React from \"react\";\nimport {createPortal} from \"react-dom\";\nimport s from \"./Modal.module.css\"\n\nconst modalRoot = document.querySelector('#modal-root')\n\nexport default class Modal extends React.Component {\n\n    componentDidMount() {\n        window.addEventListener('keydown', this.handleKeyDown )\n    }\n    componentWillUnmount() {\n        window.removeEventListener('keydown', this.handleKeyDown)\n    }\n\n    handleKeyDown = e => {\n        if (e.code === 'Escape') {\n            this.props.onClose()\n        }\n    }\n\n    handleOverlayClick = e => {\n        if (e.target === e.currentTarget) {\n            this.props.onClose()\n        }\n\n    }\n\n    render() {\n        return createPortal (\n            <div className={s.Overlay} onClick={this.handleOverlayClick} >\n                <div className={s.Modal}>\n                    <img src={this.props.bigPickUrl} alt={this.props.bigPickUrl.id}/>\n                </div>\n            </div>, modalRoot\n        );\n    }\n\n}\n\n\n","import React from \"react\";\nimport s from \"./Searchbar.module.css\"\n\nconst Searchbar = ({state: {queryWord}, handleChange, onSearch}) => {\n\n    return <header className={s.searchbar}>\n            <form className={s.searchForm}>\n                <button onClick={onSearch} type=\"submit\" className={s.searchFormButton}>\n                    <span className={s.SearchFormButtonLabel}>Search</span>\n                </button>\n\n                <input onChange={handleChange}\n                    className={s.searchFormInput}\n                    type=\"text\"\n                    autoComplete=\"off\"\n                    autoFocus\n                    placeholder=\"Search images and photos\"\n                    value={queryWord}\n                />\n            </form>\n        </header>\n\n}\n\nexport default Searchbar","import React from \"react\";\nimport s from \"./ImageGalleryItem.module.css\"\n\n\n\nconst ImageGalleryItem = ({data}) => {\n\n        return <>\n            {data.map(({id, webformatURL, tags}) => (\n                <li key={id} className={s.imageGalleryItem}>\n                    <img src={webformatURL} alt={tags} className={s.imageGalleryItemImage} />\n                </li>\n            ))}\n        </>\n}\n\nexport default ImageGalleryItem\n","import React from \"react\";\nimport s from './ImageGallery.module.css'\nimport ImageGalleryItem from \"../ImageGalleryItem/ImageGalleryItem\";\n\n\nconst  ImageGallery = (props) => {\n    return <ul onClick={props.openModal} className={s.imageGallery}>\n        <ImageGalleryItem data={props.state.data}/>\n    </ul>\n}\n\n\nexport default ImageGallery","import React from \"react\";\nimport s from \"./Button.module.css\"\n\nconst Button = (props) => {\n    return <div className={s.buttonContainer}>\n        <button onClick={props.loadMoreButton} className={s.button} type={'button'}>Load More</button>\n    </div>\n}\n\nexport default Button","import axios from \"axios\";\n\nconst API_KEY = '21129448-e17c8b1f4b436f5a4360c1592'\nconst URL = 'https://pixabay.com/api/'\n\n\nconst fetchOn = ({queryWord = '', pageNumber = 1, itemsPerPage = 12}) => {\n    return axios.get\n    (`${URL}?q=${queryWord}&page=${pageNumber}&key=${API_KEY}&image_type=photo&orientation=horizontal&per_page=${itemsPerPage}`)\n        .then(response => response.data)\n}\n\nexport default fetchOn","import React from \"react\";\nimport s from \"./App.module.css\"\nimport Modal from \"./Modal/Modal\";\nimport Searchbar from \"./Searchbar/Searchbar\";\nimport ImageGallery from \"./ImageGallery/ImageGallery\";\nimport Button from \"./Button/Button\";\nimport Loader from \"react-loader-spinner\";\nimport fetchOn from \"./API/getPictures\";\nimport PropTypes from \"prop-types\";\n\n\nexport default class App extends React.Component {\n\n  state = {\n    isLoading: false,\n    showModal: false,\n    queryWord: '',\n    itemsPerPage: 12,\n    pageNumber: 1,\n    bigPicUrl: '',\n    data: []\n  }\n\n  getData = async () => {\n    const { queryWord, pageNumber, itemsPerPage } = this.state;\n    const options = { queryWord, pageNumber, itemsPerPage };\n    try {\n      this.setState({ isLoading: true });\n      const data = await fetchOn(options);\n      this.setState((prevState) => ({\n        data: [...prevState.data, ...data.hits],\n        smallPickList: data.hits.map((hit) => hit.webformatURL),\n        pageNumber: prevState.pageNumber + 1,\n      }));\n    } catch (error) {\n      throw(error);\n    } finally {\n      this.setState({ isLoading: false });\n    }\n  };\n\n  toggleModal = () => {\n    this.setState (({ showModal }) => ({\n      showModal: !showModal,\n    }))\n  }\n\n  openModal = (e) => {\n    e.preventDefault()\n    let imgObj = {}\n    const targetEl = e.target\n    if (targetEl.nodeName === 'IMG') {\n      imgObj = this.state.data.find(({webformatURL}) => webformatURL === e.target.src )\n    }\n    this.setState(() => ({\n      bigPickUrl: imgObj.largeImageURL\n    }))\n    this.toggleModal()\n  }\n\n\n  handleChange = e => {\n    const { value } = e.currentTarget\n    this.setState({queryWord: value, pageNumber: 1, data: []})\n  }\n\n  onSearch = e => {\n    e.preventDefault()\n    this.setState({[this.state.queryWord]: e.currentTarget.value})\n    this.getData()\n  }\n\n  loadMoreButton = async (e) => {\n    e.preventDefault();\n    await this.getData();\n    window.scrollTo({\n      top: document.documentElement.scrollHeight,\n      behavior: \"smooth\",\n    });\n  };\n\n\n  render () {\n    const {showModal, isLoading} = this.state\n    return <div className={s.app}>\n      <Searchbar handleChange={this.handleChange}\n                 onSearch={this.onSearch}\n                 state={this.state}/>\n      {isLoading && <div className={s.loader}>\n        <Loader\n            type=\"Puff\"\n            color=\"#3f51b5\"\n            height={100}\n            width={100}\n            timeout={1000} //3 secs\n        />\n      </div>}\n\n      <ImageGallery state={this.state}\n                    toggleModal={this.toggleModal} openModal={this.openModal}/>\n\n      {showModal && <Modal onClose={this.toggleModal}\n                           data={this.state.data}\n                           bigPickUrl={this.state.bigPickUrl}>\n      </Modal>}\n\n      {this.state.data.length > 0\n      && !this.state.isLoading\n      && <Button loadMoreButton={this.loadMoreButton}/>}\n    </div> ;\n  }\n}\n\nApp.propTypes = {\n  bigPickUrl: PropTypes.string,\n  isLoading: PropTypes.bool,\n  data: PropTypes.arrayOf(\n      PropTypes.shape({\n        id: PropTypes.string.isRequired,\n        webformatURL: PropTypes.string.isRequired,\n        largeImageURL: PropTypes.string.isRequired,\n      })\n  )\n};\n\n","import React from 'react';\nimport * as ReactDOM from \"react-dom\";\nimport App from \"./App\";\n\n\n\nReactDOM.render(\n  <React.StrictMode>\n    <App/>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}